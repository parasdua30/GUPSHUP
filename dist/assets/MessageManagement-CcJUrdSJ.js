import{r as m,$ as h,h as i,j as e,i as l,S as c}from"./index-BE4sCsEh.js";import{c as p}from"./index-CMkmywYm.js";import{A as f}from"./AdminLayout-Ce8NWszl.js";import{R as w}from"./RenderAttachment-DPnylCRV.js";import{T as g}from"./Table-CAi3uQIh.js";import{d as n}from"./sampleData-Lm4jJ_UH.js";import{B as u}from"./Menu-C-f6PLht.js";import{A as N}from"./Menu-7VLvYU7P.js";import"./Modal-D0MrQml3.js";import"./Typography-BCMIRyZ8.js";import"./ExitToApp-DVijESUJ.js";import"./Container-BLTStu5w.js";import"./TextField-CHJZlv0j.js";import"./isMuiElement-CVpDIJuf.js";import"./Tooltip-CW-FNvY-.js";import"./Toolbar-xPWmmsgI.js";import"./MenuItem-CqSQk5aJ.js";import"./Button-eENdfeWn.js";import"./InputAdornment-DyvDa8fq.js";import"./CircularProgress-BBno7wUL.js";const x=[{field:"id",headerName:"ID",headerClassName:"table-header",width:200},{field:"attachments",headerName:"Attachments",headerClassName:"table-header",width:200,renderCell:a=>{const{attachments:t}=a.row;return(t==null?void 0:t.length)>0?t.map((d,o)=>{const s=d.url,r=l(s);return e.jsx(u,{children:e.jsx("a",{href:s,download:!0,target:"_blank",style:{color:"black"},children:w(r,s)})},o)}):"No Attachments"}},{field:"content",headerName:"Content",headerClassName:"table-header",width:400},{field:"sender",headerName:"Sent By",headerClassName:"table-header",width:200,renderCell:a=>e.jsxs(c,{direction:"row",spacing:"1rem",alignItems:"center",children:[e.jsx(N,{alt:a.row.sender.name,src:a.row.sender.avatar}),e.jsx("span",{children:a.row.sender.name})]})},{field:"chat",headerName:"Chat",headerClassName:"table-header",width:220},{field:"groupChat",headerName:"Group Chat",headerClassName:"table-header",width:100},{field:"createdAt",headerName:"Time",headerClassName:"table-header",width:250}],L=()=>{const{loading:a,data:t,error:d}=p("dashboard-messages"),[o,s]=m.useState([]);return m.useEffect(()=>{n&&s(n.messages.map(r=>({...r,id:r._id,sender:{name:r.sender.name,avatar:h(r.sender.avatar,50)},createdAt:i(r.createdAt).format("MMMM Do YYYY, h:mm:ss a")})))},[t]),e.jsx(f,{children:a?e.jsx(Skeleton,{height:"100vh"}):e.jsx(g,{heading:"All Messages",columns:x,rows:o,rowHeight:200})})};export{L as default};
